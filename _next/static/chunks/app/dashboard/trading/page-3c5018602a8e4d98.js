(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8731],{95856:function(){},6396:function(e,t,n){Promise.resolve().then(n.bind(n,79376))},17331:function(e,t,n){"use strict";n.d(t,{DL:function(){return p},Kr:function(){return u},US:function(){return a},Zu:function(){return s},nF:function(){return i},nK:function(){return l},pj:function(){return r}});let a="0x00E275e0bFF194e7835467B7d937623271A88905",i="0x3A6d255584Ce563e7cae078967BD1847fB380871",s="0xDEce07B7a7c7CE6Cb50adB8Daf54FCc2932873fd",u="0x9b347072a82435AeB60984CDA2C56E659E53217D",r="0x20c00b9AeF00640b3c7c0ac8Ba55a2687441521C",p="0x5eD63aA92B32233A9d246e4b5ECB1FAd3866470B",l="0x40BD53241B48a3Ff8971967329522e673543082A"},79376:function(e,t,n){"use strict";n.r(t);var a=n(57437),i=n(88110),s=n.n(i),u=n(79404),r=n(54760),p=n(57415),l=n(2265),o=n(17331),y=n(34549),d=n(99475),m=n(60382);let c=n(3577).Mt,f=n(4422).Mt;t.default=()=>{let e=(0,y.zu)(),t=new p.CH(o.Zu,c,e),n=new p.CH(o.Kr,c,e),i=new p.CH(o.pj,f,e),[b]=u.Z.useForm(),[T]=u.Z.useForm(),[w,x]=(0,l.useState)({mytoken1:"",mytoken2:"",swaptoken1:"",swaptoken2:""}),v=async e=>{let t=await i.myswap((0,d.f)(e.token1.toString()),o.Zu,(0,d.f)("0"));await t.wait(),g()},k=async e=>{let t=await i.myswap((0,d.f)(e.token2.toString()),o.Kr,(0,d.f)("0"));await t.wait(),g()},h=e=>{console.log("Failed:",e)};(0,l.useEffect)(()=>(t.runner&&n.runner&&i.runner&&g(),()=>{}),[t.runner,n.runner,i.runner]);let g=async()=>{let a=await t.balanceOf(null==e?void 0:e.address),s=await n.balanceOf(null==e?void 0:e.address),u=await i.getAddress(),r=await t.balanceOf(u),p=await n.balanceOf(u),l={mytoken1:(0,m.d)(a).toString(),mytoken2:(0,m.d)(s).toString(),swaptoken1:(0,m.d)(r).toString(),swaptoken2:(0,m.d)(p).toString()};x(l)},M=async()=>{let e=b.getFieldsValue().token1,t=await i.getAmountOut((0,d.f)(e.toString()),(0,d.f)(w.mytoken1.toString()),(0,d.f)(w.mytoken2.toString()));b.setFieldsValue({amout1:Number((0,m.d)(t)).toString()})},j=async()=>{let e=T.getFieldsValue().token2,t=await i.getAmountOut((0,d.f)(e.toString()),(0,d.f)(w.mytoken2.toString()),(0,d.f)(w.mytoken1.toString()));T.setFieldsValue({amout2:Number((0,m.d)(t)).toString()})},C=async()=>{let e=await i.getAddress();await t.approve(e,(0,d.f)("1000")),await n.approve(e,(0,d.f)("1000"))},S=async()=>{await i.addLiquidity((0,d.f)("100"),(0,d.f)("100"))},F=async()=>{let t=i.filters.Transfer(null==e?void 0:e.address),n=await i.queryFilter(t,-10,"latest");console.log(n)},O=async()=>{await t.mint((0,d.f)("1000"));let e=await n.mint((0,d.f)("1000"));await e.wait(),g()};return(0,a.jsxs)("div",{children:[(0,a.jsx)(s(),{onClick:()=>F(),children:"获取10个块交易记录"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"因为是测试代币,先在Sepolia上部署两个ERC20,发行两个不同的代币!,同时mint两个名为token1和token2的代币,数量暂定1000."}),(0,a.jsx)("p",{children:"铸造完之后,先授权给合约! 不然会报错"}),(0,a.jsx)("p",{children:"池子如果代币为0,先转100代币到池子里"}),(0,a.jsx)("p",{children:"现在可以开始交易了!"})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"pr-10",children:["我的",(0,a.jsxs)("p",{children:["token1:  ",w.mytoken1]}),(0,a.jsxs)("p",{children:["token2:  ",w.mytoken2]})]}),(0,a.jsxs)("div",{children:["池子中可交换的",(0,a.jsxs)("p",{children:["token1:  ",w.swaptoken1]}),(0,a.jsxs)("p",{children:["token2:  ",w.swaptoken2]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(s(),{onClick:()=>O(),children:"先铸造1000个token1与1000个token2!"})}),(0,a.jsx)(s(),{onClick:()=>C(),children:"授权"}),(0,a.jsx)(s(),{onClick:()=>S(),children:"各转100币到池子里"}),(0,a.jsxs)(u.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:v,onFinishFailed:h,autoComplete:"off",form:b,children:[(0,a.jsx)(u.Z.Item,{label:"token1",name:"token1",rules:[{required:!0,message:"Please input your token1!"}],children:(0,a.jsx)(r.Z,{className:"w-80"})}),(0,a.jsx)(u.Z.Item,{label:"token2",name:"amout1",rules:[{required:!0,message:"Please input your amout1!"}],children:(0,a.jsx)(r.Z,{className:"w-80",disabled:!0})}),(0,a.jsxs)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:[(0,a.jsx)(s(),{type:"primary",onClick:()=>M(),children:"预计兑换多少"}),(0,a.jsx)(s(),{type:"primary",htmlType:"submit",children:"Submit"})]})]})]}),(0,a.jsxs)(u.Z,{name:"basic1",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:k,onFinishFailed:h,autoComplete:"off",form:T,children:[(0,a.jsx)(u.Z.Item,{label:"token2",name:"token2",rules:[{required:!0,message:"Please input your token2!"}],children:(0,a.jsx)(r.Z,{className:"w-80"})}),(0,a.jsx)(u.Z.Item,{label:"token1",name:"amout2",rules:[{required:!0,message:"Please input your amout2!"}],children:(0,a.jsx)(r.Z,{className:"w-80",disabled:!0})}),(0,a.jsxs)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:[(0,a.jsx)(s(),{type:"primary",onClick:()=>j(),children:"预计兑换多少"}),(0,a.jsx)(s(),{type:"primary",htmlType:"submit",children:"Submit"})]})]})]})}},34549:function(e,t,n){"use strict";n.d(t,{zu:function(){return r}});var a=n(2265),i=n(56926),s=n(46905),u=n(85761);function r(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:t}=(0,i.py)({chainId:e});return a.useMemo(()=>t?function(e){var t,n;let{account:a,chain:i,transport:r}=e,p={chainId:i.id,name:i.name,ensAddress:null===(n=i.contracts)||void 0===n?void 0:null===(t=n.ensRegistry)||void 0===t?void 0:t.address},l=new s.Q(r,p),o=new u.C1(l,a.address);return o}(t):void 0,[t])}},4422:function(e){"use strict";e.exports=JSON.parse('{"Mt":[{"inputs":[{"internalType":"contract IERC20","name":"_token1","type":"address"},{"internalType":"contract IERC20","name":"_token2","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"address","name":"tokenIn","type":"address"},{"indexed":false,"internalType":"uint256","name":"amountOut","type":"uint256"},{"indexed":false,"internalType":"address","name":"tokenOut","type":"address"}],"name":"Swap","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"uint256","name":"amount1Desired","type":"uint256"},{"internalType":"uint256","name":"amount2Desired","type":"uint256"}],"name":"addLiquidity","outputs":[{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"}],"name":"getAmountOut","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"contract IERC20","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"}],"name":"myswap","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"contract IERC20","name":"tokenOut","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"reserve1","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"reserve2","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"swap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token1","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token2","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]}')},3577:function(e){"use strict";e.exports=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]}')}},function(e){e.O(0,[4533,8110,9766,6905,6354,2044,9546,2971,596,1744],function(){return e(e.s=6396)}),_N_E=e.O()}]);