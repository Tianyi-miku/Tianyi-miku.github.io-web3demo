(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6580],{95856:function(){},72432:function(e,n,t){Promise.resolve().then(t.bind(t,41238))},17331:function(e,n,t){"use strict";t.d(n,{DL:function(){return l},Kr:function(){return r},US:function(){return a},Zu:function(){return s},nF:function(){return i},nK:function(){return d},pj:function(){return u}});let a="0x00E275e0bFF194e7835467B7d937623271A88905",i="0x3A6d255584Ce563e7cae078967BD1847fB380871",s="0xDEce07B7a7c7CE6Cb50adB8Daf54FCc2932873fd",r="0x9b347072a82435AeB60984CDA2C56E659E53217D",u="0x20c00b9AeF00640b3c7c0ac8Ba55a2687441521C",l="0x5eD63aA92B32233A9d246e4b5ECB1FAd3866470B",d="0x40BD53241B48a3Ff8971967329522e673543082A"},41238:function(e,n,t){"use strict";t.r(n);var a=t(57437),i=t(34549),s=t(85761),r=t(32567),u=t(57415),l=t(3605),d=t(2265),o=t(17331),p=t(88110),y=t.n(p),c=t(62601);let m=new s.r6("https://polygon-mumbai.g.alchemy.com/v2/".concat("y2juaqtv1YsC7WQYtC0--_KHgIzj7s0C")),f=new s.r6("https://eth-sepolia.g.alchemy.com/v2/".concat("ReBoqRd9z_DXXZIJQELN6KXNmJmYoWa3")),b="909e4ce4821e0df3840aae621701ec8847db415f33009481232b5d02641a16ad";console.log(c);let w=new r.w(b,m),v=new r.w(b,f),g=t(4719).Mt;n.default=()=>{let[e,n]=(0,d.useState)("0"),[t,s]=(0,d.useState)("0"),[r,p]=(0,d.useState)(!1),[c,m]=(0,d.useState)(!1),[f,b]=(0,d.useState)(!1),[x,T]=(0,d.useState)(!1);(0,i.zu)();let h=new u.CH(o.DL,g,v),C=new u.CH(o.nK,g,w);(0,d.useEffect)(()=>(h.runner&&M(),()=>{}),[h.runner]),(0,d.useEffect)(()=>(C.runner&&A(),()=>{}),[C.runner]);let j=()=>{console.log("监听"),h.on("Bridge",async(e,n)=>{console.log("CrossBridge_s");let t=await C.mint(n);await t.wait()})},B=()=>{console.log("监听"),C.on("Bridge",async(e,n)=>{console.log("CrossBridge_s");let t=await h.mint(n);await t.wait()})};(0,d.useEffect)(()=>(C.runner&&h.runner&&(B(),j()),()=>{}),[C.runner,h.runner]);let M=async()=>{let e=await h.balanceOf(await v.getAddress());n((0,l.dF)(e).toString())},A=async()=>{let e=await C.balanceOf(await w.getAddress());console.log(e),s((0,l.dF)(e).toString())},E=async e=>{b(!0);let n=await e.mint((0,l.fi)("100"));await n.wait(),M(),b(!1)},_=async e=>{T(!0);let n=await e.mint((0,l.fi)("100"));await n.wait(),M(),T(!1)},F=async e=>{p(!0);let n=await e.bridge((0,l.fi)("1"));await n.wait(),M(),A(),p(!1)},S=async e=>{m(!0);let n=await e.bridge((0,l.fi)("1"));await n.wait(),M(),A(),m(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:"两种简单的跨链桥!"}),(0,a.jsx)("div",{children:"这里是第一种,自定义项目上用的 在两个链上分别部署合约,在前端中监听跨链操作!"}),(0,a.jsx)("div",{children:"注意,这里没有处理监听失败交易失败的问题!所以转币的时候不要跳转其他页面!"}),(0,a.jsx)("div",{children:"另一种使用预言机或者其他去中心化跨链桥!"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"w-1/2",children:["sepolia",(0,a.jsx)("div",{children:(0,a.jsx)(y(),{onClick:()=>_(h),loading:x,children:"mint"})}),(0,a.jsx)("div",{children:e}),(0,a.jsx)("div",{children:(0,a.jsx)(y(),{onClick:()=>S(h),loading:c,children:"转让1个代币"})})]}),(0,a.jsxs)("div",{className:"w-1/2",children:["polygon",(0,a.jsx)("div",{children:(0,a.jsx)(y(),{onClick:()=>E(C),loading:f,children:"mint"})}),(0,a.jsx)("div",{children:t}),(0,a.jsx)("div",{children:(0,a.jsx)(y(),{onClick:()=>F(C),loading:r,children:"转让1个代币"})})]})]})]})}},34549:function(e,n,t){"use strict";t.d(n,{zu:function(){return u}});var a=t(2265),i=t(56926),s=t(46905),r=t(85761);function u(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:n}=(0,i.py)({chainId:e});return a.useMemo(()=>n?function(e){var n,t;let{account:a,chain:i,transport:u}=e,l={chainId:i.id,name:i.name,ensAddress:null===(t=i.contracts)||void 0===t?void 0:null===(n=t.ensRegistry)||void 0===n?void 0:n.address},d=new s.Q(u,l),o=new r.C1(d,a.address);return o}(n):void 0,[n])}},4719:function(e){"use strict";e.exports=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Bridge","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"bridge","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]}')}},function(e){e.O(0,[4533,8110,6905,3605,7817,2971,596,1744],function(){return e(e.s=72432)}),_N_E=e.O()}]);